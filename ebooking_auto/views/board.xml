<odoo>
  <data>
    <record model="ir.actions.act_window" id="ebooking_auto.action_window_board">
      <field name="name">ebooking_auto.appointment.action</field>
      <field name="res_model">ebooking_auto.appointment</field>
      <field name="view_type">form</field>
      <field name="view_mode">calendar,tree,form</field>
    </record>
    <record model="ir.ui.view" id="ebooking_auto.view_list_appointment">
      <field name="name">ebooking_auto.appointment.list</field>
      <field name="model">ebooking_auto.appointment</field>
      <field name="arch" type="xml">
        <tree create="false">
          <field name="appointment_type"/>
          <field name="begin_date"/>
          <field name="end_date"/>
          <field name="resource_id"/>
        </tree>
      </field>
    </record>
    <record model="ir.ui.view" id="ebooking_auto.view_form_appointment">
      <field name="name">ebooking_auto.appointment.form</field>
      <field name="model">ebooking_auto.appointment</field>
      <field name="arch" type="xml">
        <form create="false">
          <header>
            <button name="action_appointment_wait" type="object" string="Хүлээлгэнд оруулах" attrs="{'invisible':[('state', 'not in', ('order'))]}" class="btn-default" confirm="Сонгосон захиалгыг хүлээлгэнд оруулах уу?"/>
            <button name="action_appointment_serve" type="object" string="Үйлчилгээнд оруулах" attrs="{'invisible':[('state', 'not in', ('wait'))]}" class="btn-default" confirm="Сонгосон захиалгыг үйлчилгээнд оруулах уу?"/>
            <button name="action_appointment_complete" type="object" string="Үйлчлүүлж дууссан" attrs="{'invisible':[('state', 'not in', ('serve'))]}" class="btn-default" confirm="Сонгосон захиалгын үйлчилгээг дуусгах уу?"/>
            <button name="action_appointment_paid" type="object" string="Төлбөр төлөгдсөн" attrs="{'invisible':[('state', 'not in', ('complete'))]}" class="btn-default" confirm="Сонгосон захиалгын төлбөр төлөгдсөн эсэхийг баталгаажуулах уу?"/>
            <button name="action_appointment_cancel" type="object" string="Цуцлах" attrs="{'invisible':[('state', 'in', ('cancel'))]}" class="btn-danger" confirm="Сонгосон захиалга цуцлах уу?"/>
            <field name="state" widget="statusbar" nolabel="1"/>
          </header>
          <sheet>
            <group col="4">
              <field name="appointment_type" widget="radio" class="oe_edit_only" options="{'horizontal': true}"/>
              <field name="begin_date" readonly="1" string="Эхлэх цаг"/>
              <field name="resource_id" options="{'no_create': True}" domain="[('is_active','=',True)]"/>
              <field name="end_date" readonly="1" string="Дуусах цаг"/>
              <field name="request_type_ids" widget="many2many_checkboxes" class="checkboxes-inline" colspan="4" string="Үйлчлүүлэгчийн хүсэлт"/>
              <field name="request_memo" colspan="4" string="" placeholder="Үйлчлүүлэгчийн хүсэлт"/>
            </group>
            <notebook>
              <page string="Үйлчлүүлэгчийн мэдээлэл">
                <group col="4" string="Автомашиний мэдээлэл">
                  <field name="vehicle_id" string="Улсын дугаар" options="{'no_quick_edit': True}"/>
                  <field name="vehicle_model_id" string="Автомашины загвар"/>
                  <field name="vehicle_vin_sn" string="Аралын дугаар" readonly="1"/>
                  <field name="vehicle_model_year" string="Үйлдвэрлэсэн он"/>
                  <field name="vehicle_fuel_type" string="Шатхууны төрөл" widget="radio" class="oe_edit_only" options="{'horizontal': true}"/>
                  <field name="vehicle_transmission" string="Хурдны хайрцаг" widget="radio" class="oe_edit_only" options="{'horizontal': true}"/>
                  <label for="vehicle_odometer" string="Заалт"/>
                  <div class="o_row">
                      <field name="vehicle_odometer"/>
                      <field name="vehicle_odometer_unit"/>
                  </div>
                  <field name="vehicle_isownsold"/>
                </group>
                <group col="4" string="Үйлчлүүлэгчийн мэдээлэл">
                  <field name="customer_name" string="Эзэмшигчийн нэр" readonly="1"/>
                  <field name="customer_phone" string="Утас" readonly="1"/>
                  <field name="customer_company_type" string="Эзэмшигч"/>
                  <field name="customer_mobile" string="Гар утас" readonly="1"/>
                  <field name="customer_contact_address" string="Хаяг" colspan="4" readonly="1"/>
                </group>
              </page>
              <page string="Оношлогоо">
                <group col="4">
                  <field name="diagnostic_type_ids" widget="many2many_checkboxes" class="checkboxes-inline" colspan="4" string="Оношлогооны төрөл" domain="[('categ_id.name', '=', 'Оношлогоо'),('categ_id.parent_id.id','=',1)]"/>
                  <field name="diagnostic_desc" colspan="4" string = "Оношлогооны дүгнэлт"/>
                  <field name="diagnostic_seniormechanical_id" string="Дүгнэлт гаргасан ахлах механик"/>
                  <field name="diagnostic_mechanical_id" string="Дүгнэлт гаргасан механик"/>
                  <field name="diagnostic_serviceconsultant_id" string="Дүгнэлт гаргасан үйлчилгээний зөвлөх"/>
                </group>
              </page>
              <page string="Засвар үйлчилгээ">
                <group>
                  <field name="repair_type_ids" widget="many2many_checkboxes" class="checkboxes-inline" colspan="4" string="ЗҮ-нд орох төрөл"/>
                </group>
                <group>
                  <field name="repair_line_ids" nolabel="1">
                    <tree string="Засвар үйлчилгээ" editable="bottom">
                      <field name="product_id" domain="[('type','=','service')]"/>
                      <field name="name"/>
                      <field name="quantity" string="Тоо/ш"/>
                      <field name="price_unit" string="Нэгж үнэ"/>
                      <field name="tax_ids" widget="many2many_tags" string="Татвар"/>
                      <field name="price_total" widget="monetary" string="Нийт"/>
                    </tree>
                  </field>
                </group>
                <group col="4">
                  <field name="repair_seniormechanical_id" string="Ахлах механик"/>
                  <field name="repair_mechanical_id" string="Механик"/>
                  <field name="repair_serviceconsultant_id" string="Үйлчилгээний зөвлөх"/>
                  <field name="repair_desc" colspan="4" string = "Засварын үр дүн" placeholder="Засварын үр дүн"/>
                </group>
              </page>
              <page string="Солигдох сэлбэг">
                <group>
                  <field name="part_line_ids" nolabel="1">
                    <tree string="Сэлбэг" editable="bottom">
                      <field name="product_id" domain="[('type','=','service')]"/>
                      <field name="name"/>
                      <field name="quantity" string="Тоо/ш"/>
                      <field name="price_unit" string="Нэгж үнэ"/>
                      <field name="tax_ids" widget="many2many_tags" string="Татвар"/>
                      <field name="price_total" widget="monetary" string="Нийт"/>
                    </tree>
                  </field>
                </group>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>
    <record model="ir.ui.view" id="ebooking_auto.view_calendar_appointment">
      <field name="name">ebooking_auto.appointment.calendar</field>
      <field name="model">ebooking_auto.appointment</field>
      <field name="arch" type="xml">
        <calendar string="Calendar" date_start="begin_date" date_stop="end_date" color="state" mode="day">
          <field name="vehicle_id"/>
          <field name="resource_id"/>
        </calendar>
      </field>
    </record>


    <record model="ir.ui.view" id="ebooking_auto.view_list_test">
      <field name="name">ebooking_auto.resource.list</field>
      <field name="model">ebooking_auto.resource</field>
      <field name="arch" type="xml">
        <tree create="false">
          <field name="num"/>
          <field name="desc"/>
          <field name="name"/>
          <field name="is_active"/>
        </tree>
      </field>
    </record>
    <record model="ir.actions.act_window" id="ebooking_auto.action_window_test">
      <field name="name">ebooking_auto.resource</field>
      <field name="res_model">ebooking_auto.resource</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
    </record>
    <record id="ebooking_auto.action_window_test_tree" model="ir.actions.act_window.view">
      <field eval="1" name="sequence"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="ebooking_auto.view_list_test"/>
      <field name="act_window_id" ref="ebooking_auto.action_window_test"/>
    </record>
  </data>
</odoo>
